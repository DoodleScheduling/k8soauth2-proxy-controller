{"@timestamp":"2022-05-05T07:28:36.962Z","sequence":4664,"loggerClassName":"org.jboss.logging.Logger","loggerName":"org.keycloak.broker.oidc.AbstractOAuth2IdentityProvider","level":"ERROR","message":"Failed to make identity provider oauth callback","threadName":"default task-1","threadId":218,"mdc":{},"ndc":"","hostName":"keycloak-15-iam-0","processName":"jboss-modules.jar","processId":1011,"exception":{"refId":1,"exceptionType":"org.keycloak.broker.provider.IdentityBrokerException","message":"No access_token from server. error='redirect_uri_mismatch', error_description='Bad Request', error_uri='null'","frames":[{"class":"org.keycloak.broker.oidc.OIDCIdentityProvider","method":"verifyAccessToken","line":524},{"class":"org.keycloak.broker.oidc.OIDCIdentityProvider","method":"getFederatedIdentity","line":367},{"class":"org.keycloak.broker.oidc.AbstractOAuth2IdentityProvider$Endpoint","method":"authResponse","line":502},{"class":"jdk.internal.reflect.NativeMethodAccessorImpl","method":"invoke0"},{"class":"jdk.internal.reflect.NativeMethodAccessorImpl","method":"invoke","line":62},{"class":"jdk.internal.reflect.DelegatingMethodAccessorImpl","method":"invoke","line":43},{"class":"java.lang.reflect.Method","method":"invoke","line":566},{"class":"org.jboss.resteasy.core.MethodInjectorImpl","method":"invoke","line":138},{"class":"org.jboss.resteasy.core.ResourceMethodInvoker","method":"internalInvokeOnTarget","line":546},{"class":"org.jboss.resteasy.core.ResourceMethodInvoker","method":"invokeOnTargetAfterFilter","line":435},{"class":"org.jboss.resteasy.core.ResourceMethodInvoker","method":"lambda$invokeOnTarget$0","line":396},{"class":"org.jboss.resteasy.core.interception.PreMatchContainerRequestContext","method":"filter","line":358},{"class":"org.jboss.resteasy.core.ResourceMethodInvoker","method":"invokeOnTarget","line":398},{"class":"org.jboss.resteasy.core.ResourceMethodInvoker","method":"invoke","line":365},{"class":"org.jboss.resteasy.core.ResourceLocatorInvoker","method":"invokeOnTargetObject","line":150},{"class":"org.jboss.resteasy.core.ResourceLocatorInvoker","method":"invoke","line":110},{"class":"org.jboss.resteasy.core.ResourceLocatorInvoker","method":"invokeOnTargetObject","line":141},{"class":"org.jboss.resteasy.core.ResourceLocatorInvoker","method":"invoke","line":104},{"class":"org.jboss.resteasy.core.SynchronousDispatcher","method":"invoke","line":440},{"class":"org.jboss.resteasy.core.SynchronousDispatcher","method":"lambda$invoke$4","line":229},{"class":"org.jboss.resteasy.core.SynchronousDispatcher","method":"lambda$preprocess$0","line":135},{"class":"org.jboss.resteasy.core.interception.PreMatchContainerRequestContext","method":"filter","line":358},{"class":"org.jboss.resteasy.core.SynchronousDispatcher","method":"preprocess","line":138},{"class":"org.jboss.resteasy.core.SynchronousDispatcher","method":"invoke","line":215},{"class":"org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher","method":"service","line":245},{"class":"org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher","method":"service","line":61},{"class":"org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher","method":"service","line":56},{"class":"javax.servlet.http.HttpServlet","method":"service","line":590},{"class":"io.undertow.servlet.handlers.ServletHandler","method":"handleRequest","line":74},{"class":"io.undertow.servlet.handlers.FilterHandler$FilterChainImpl","method":"doFilter","line":129},{"class":"org.keycloak.provider.wildfly.WildFlyRequestFilter","method":"lambda$doFilter$0","line":41},{"class":"org.keycloak.services.filters.AbstractRequestFilter","method":"filter","line":43},{"class":"org.keycloak.provider.wildfly.WildFlyRequestFilter","method":"doFilter","line":39},{"class":"io.undertow.servlet.core.ManagedFilter","method":"doFilter","line":61},{"class":"io.undertow.servlet.handlers.FilterHandler$FilterChainImpl","method":"doFilter","line":131},{"class":"io.undertow.servlet.handlers.FilterHandler","method":"handleRequest","line":84},{"class":"io.undertow.servlet.handlers.security.ServletSecurityRoleHandler","method":"handleRequest","line":62},{"class":"io.undertow.servlet.handlers.ServletChain$1","method":"handleRequest","line":68},{"class":"io.undertow.servlet.handlers.ServletDispatchingHandler","method":"handleRequest","line":36},{"class":"org.wildfly.extension.undertow.security.SecurityContextAssociationHandler","method":"handleRequest","line":78},{"class":"io.undertow.server.handlers.PredicateHandler","method":"handleRequest","line":43},{"class":"io.undertow.servlet.handlers.RedirectDirHandler","method":"handleRequest","line":68},{"class":"io.undertow.servlet.handlers.security.SSLInformationAssociationHandler","method":"handleRequest","line":117},{"class":"io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler","method":"handleRequest","line":57},{"class":"io.undertow.server.handlers.PredicateHandler","method":"handleRequest","line":43},{"class":"io.undertow.security.handlers.AbstractConfidentialityHandler","method":"handleRequest","line":46},{"class":"io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler","method":"handleRequest","line":64},{"class":"io.undertow.security.handlers.AuthenticationMechanismsHandler","method":"handleRequest","line":60},{"class":"io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler","method":"handleRequest","line":77},{"class":"io.undertow.security.handlers.NotificationReceiverHandler","method":"handleRequest","line":50},{"class":"io.undertow.security.handlers.AbstractSecurityContextAssociationHandler","method":"handleRequest","line":43},{"class":"io.undertow.server.handlers.PredicateHandler","method":"handleRequest","line":43},{"class":"org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler","method":"handleRequest","line":61},{"class":"io.undertow.server.handlers.PredicateHandler","method":"handleRequest","line":43},{"class":"org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler","method":"handleRequest","line":68},{"class":"io.undertow.servlet.handlers.SendErrorPageHandler","method":"handleRequest","line":52},{"class":"io.undertow.server.handlers.PredicateHandler","method":"handleRequest","line":43},{"class":"io.undertow.server.handlers.MetricsHandler","method":"handleRequest","line":64},{"class":"io.undertow.servlet.core.MetricsChainHandler","method":"handleRequest","line":59},{"class":"io.undertow.servlet.handlers.ServletInitialHandler","method":"handleFirstRequest","line":269},{"class":"io.undertow.servlet.handlers.ServletInitialHandler","method":"access$100","line":78},{"class":"io.undertow.servlet.handlers.ServletInitialHandler$2","method":"call","line":133},{"class":"io.undertow.servlet.handlers.ServletInitialHandler$2","method":"call","line":130},{"class":"io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1","method":"call","line":48},{"class":"io.undertow.servlet.core.ContextClassLoaderSetupAction$1","method":"call","line":43},{"class":"org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction","method":"lambda$create$0","line":105},{"class":"org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction","method":"lambda$create$0","line":1530},{"class":"org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction","method":"lambda$create$0","line":1530},{"class":"org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction","method":"lambda$create$0","line":1530},{"class":"org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction","method":"lambda$create$0","line":1530},{"class":"io.undertow.servlet.handlers.ServletInitialHandler","method":"dispatchRequest","line":249},{"class":"io.undertow.servlet.handlers.ServletInitialHandler","method":"access$000","line":78},{"class":"io.undertow.servlet.handlers.ServletInitialHandler$1","method":"handleRequest","line":99},{"class":"io.undertow.server.Connectors","method":"executeRootHandler","line":387},{"class":"io.undertow.server.HttpServerExchange$1","method":"run","line":841},{"class":"org.jboss.threads.ContextClassLoaderSavingRunnable","method":"run","line":35},{"class":"org.jboss.threads.EnhancedQueueExecutor","method":"safeRun","line":1990},{"class":"org.jboss.threads.EnhancedQueueExecutor$ThreadBody","method":"doRunTask","line":1486},{"class":"org.jboss.threads.EnhancedQueueExecutor$ThreadBody","method":"run","line":1377},{"class":"org.xnio.XnioWorker$WorkerThreadFactory$1$1","method":"run","line":1280},{"class":"java.lang.Thread","method":"run","line":829}]},"stackTrace":": org.keycloak.broker.provider.IdentityBrokerException: No access_token from server. error='redirect_uri_mismatch', error_description='Bad Request', error_uri='null'\n\tat org.keycloak.keycloak-services@15.1.0//org.keycloak.broker.oidc.OIDCIdentityProvider.verifyAccessToken(OIDCIdentityProvider.java:524)\n\tat org.keycloak.keycloak-services@15.1.0//org.keycloak.broker.oidc.OIDCIdentityProvider.getFederatedIdentity(OIDCIdentityProvider.java:367)\n\tat org.keycloak.keycloak-services@15.1.0//org.keycloak.broker.oidc.AbstractOAuth2IdentityProvider$Endpoint.authResponse(AbstractOAuth2IdentityProvider.java:502)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)\n\tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\n\tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n\tat org.keycloak.keycloak-wildfly-extensions@15.1.0//org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)\n\tat org.keycloak.keycloak-services@15.1.0//org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)\n\tat org.keycloak.keycloak-wildfly-extensions@15.1.0//org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n\tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n\tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n\tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n\tat io.undertow.core@2.2.5.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n\tat io.undertow.core@2.2.5.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n\tat io.undertow.core@2.2.5.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n\tat io.undertow.core@2.2.5.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n\tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n\tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n\tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n\tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n\tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n\tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.MetricsHandler.handleRequest(MetricsHandler.java:64)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.MetricsChainHandler.handleRequest(MetricsChainHandler.java:59)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n\tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n\tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n\tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n\tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n\tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n\tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n\tat io.undertow.core@2.2.5.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n\tat io.undertow.core@2.2.5.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n\tat org.jboss.xnio@3.8.4.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n\tat java.base/java.lang.Thread.run(Thread.java:829)\n","@version":"1"}

